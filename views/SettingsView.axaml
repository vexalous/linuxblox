    <ListBox ItemsSource="{Binding Flags}"
             Background="Transparent"
             BorderThickness="0">
      
      <ListBox.ItemsPanel>
        <ItemsPanelTemplate>
          <VirtualizingStackPanel VirtualizationMode="Simple"/>
        </ItemsPanelTemplate>
      </ListBox.ItemsPanel>

      <ListBox.DataTemplates>
        <DataTemplate DataType="{x:Type vm:InputFlagViewModel}">
          <Grid ColumnDefinitions="*,Auto" Margin="0,5">
            <TextBlock Grid.Column="0" Text="{Binding Description}" VerticalAlignment="Center" Margin="10,0"/>
            <TextBox Grid.Column="1" Text="{Binding Value, UpdateSourceTrigger=PropertyChanged}" MinWidth="100" IsEnabled="{Binding IsEnabled}"/>
          </Grid>
        </DataTemplate>

        <DataTemplate DataType="{x:Type vm:ToggleFlagViewModel}">
          <Grid ColumnDefinitions="*,Auto" Margin="0,5">
            <TextBlock Grid.Column="0" Text="{Binding Description}" VerticalAlignment="Center" Margin="10,0"/>
            <ToggleSwitch Grid.Column="1" IsChecked="{Binding IsOn}" IsEnabled="{Binding IsEnabled}"/>
          </Grid>
        </DataTemplate>
      </ListBox.DataTemplates>
    </ListBox>
